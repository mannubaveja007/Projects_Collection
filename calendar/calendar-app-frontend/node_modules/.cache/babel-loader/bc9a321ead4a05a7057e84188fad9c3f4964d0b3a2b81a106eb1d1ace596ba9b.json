{"ast":null,"code":"// src/notificationUtils.js\nexport const requestNotificationPermission = () => {\n  if (Notification.permission !== 'granted') {\n    Notification.requestPermission().then(permission => {\n      if (permission === 'granted') {\n        console.log('Notification permission granted.');\n      }\n    });\n  }\n};\nexport const showEventNotification = event => {\n  if (Notification.permission === 'granted') {\n    const notification = new Notification(`${event.title} is happening now!`, {\n      body: `${event.description} at ${event.time}`,\n      icon: '/path/to/icon.png',\n      // You can specify an icon for the notification\n      actions: [{\n        action: 'dismiss',\n        title: 'Dismiss'\n      }, {\n        action: 'snooze',\n        title: 'Snooze for 5 minutes'\n      }],\n      requireInteraction: true // Keep the notification open until user interacts\n    });\n    notification.onclick = event => {\n      event.preventDefault(); // Prevent the default action\n      window.focus(); // Focus on the app window\n      notification.close(); // Close the notification\n    };\n    notification.onshow = () => {\n      notification.addEventListener('action', event => {\n        if (event.action === 'snooze') {\n          snoozeNotification(event);\n          notification.close();\n        } else if (event.action === 'dismiss') {\n          notification.close();\n        }\n      });\n    };\n  }\n};\nexport const snoozeNotification = event => {\n  setTimeout(() => {\n    showEventNotification(event);\n  }, 5 * 60 * 1000); // 5 minutes\n};\nexport const checkAndShowNotifications = events => {\n  const currentTime = new Date();\n  events.forEach(event => {\n    const eventTime = new Date(`${event.date} ${event.time}`);\n    if (currentTime >= eventTime && currentTime < new Date(eventTime.getTime() + 60000)) {\n      showEventNotification(event);\n    }\n  });\n};","map":{"version":3,"names":["requestNotificationPermission","Notification","permission","requestPermission","then","console","log","showEventNotification","event","notification","title","body","description","time","icon","actions","action","requireInteraction","onclick","preventDefault","window","focus","close","onshow","addEventListener","snoozeNotification","setTimeout","checkAndShowNotifications","events","currentTime","Date","forEach","eventTime","date","getTime"],"sources":["D:/intern/calendar/calendar-app-frontend/src/notificationUtils.js"],"sourcesContent":["// src/notificationUtils.js\r\nexport const requestNotificationPermission = () => {\r\n    if (Notification.permission !== 'granted') {\r\n      Notification.requestPermission().then(permission => {\r\n        if (permission === 'granted') {\r\n          console.log('Notification permission granted.');\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  export const showEventNotification = (event) => {\r\n    if (Notification.permission === 'granted') {\r\n      const notification = new Notification(`${event.title} is happening now!`, {\r\n        body: `${event.description} at ${event.time}`,\r\n        icon: '/path/to/icon.png', // You can specify an icon for the notification\r\n        actions: [\r\n          {\r\n            action: 'dismiss',\r\n            title: 'Dismiss',\r\n          },\r\n          {\r\n            action: 'snooze',\r\n            title: 'Snooze for 5 minutes',\r\n          },\r\n        ],\r\n        requireInteraction: true, // Keep the notification open until user interacts\r\n      });\r\n  \r\n      notification.onclick = (event) => {\r\n        event.preventDefault(); // Prevent the default action\r\n        window.focus(); // Focus on the app window\r\n        notification.close(); // Close the notification\r\n      };\r\n  \r\n      notification.onshow = () => {\r\n        notification.addEventListener('action', (event) => {\r\n          if (event.action === 'snooze') {\r\n            snoozeNotification(event);\r\n            notification.close();\r\n          } else if (event.action === 'dismiss') {\r\n            notification.close();\r\n          }\r\n        });\r\n      };\r\n    }\r\n  };\r\n  \r\n  export const snoozeNotification = (event) => {\r\n    setTimeout(() => {\r\n      showEventNotification(event);\r\n    }, 5 * 60 * 1000); // 5 minutes\r\n  };\r\n  \r\n  export const checkAndShowNotifications = (events) => {\r\n    const currentTime = new Date();\r\n  \r\n    events.forEach(event => {\r\n      const eventTime = new Date(`${event.date} ${event.time}`);\r\n      \r\n      if (currentTime >= eventTime && currentTime < new Date(eventTime.getTime() + 60000)) {\r\n        showEventNotification(event);\r\n      }\r\n    });\r\n  };\r\n  "],"mappings":"AAAA;AACA,OAAO,MAAMA,6BAA6B,GAAGA,CAAA,KAAM;EAC/C,IAAIC,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;IACzCD,YAAY,CAACE,iBAAiB,CAAC,CAAC,CAACC,IAAI,CAACF,UAAU,IAAI;MAClD,IAAIA,UAAU,KAAK,SAAS,EAAE;QAC5BG,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MACjD;IACF,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMC,qBAAqB,GAAIC,KAAK,IAAK;EAC9C,IAAIP,YAAY,CAACC,UAAU,KAAK,SAAS,EAAE;IACzC,MAAMO,YAAY,GAAG,IAAIR,YAAY,CAAC,GAAGO,KAAK,CAACE,KAAK,oBAAoB,EAAE;MACxEC,IAAI,EAAE,GAAGH,KAAK,CAACI,WAAW,OAAOJ,KAAK,CAACK,IAAI,EAAE;MAC7CC,IAAI,EAAE,mBAAmB;MAAE;MAC3BC,OAAO,EAAE,CACP;QACEC,MAAM,EAAE,SAAS;QACjBN,KAAK,EAAE;MACT,CAAC,EACD;QACEM,MAAM,EAAE,QAAQ;QAChBN,KAAK,EAAE;MACT,CAAC,CACF;MACDO,kBAAkB,EAAE,IAAI,CAAE;IAC5B,CAAC,CAAC;IAEFR,YAAY,CAACS,OAAO,GAAIV,KAAK,IAAK;MAChCA,KAAK,CAACW,cAAc,CAAC,CAAC,CAAC,CAAC;MACxBC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MAChBZ,YAAY,CAACa,KAAK,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAEDb,YAAY,CAACc,MAAM,GAAG,MAAM;MAC1Bd,YAAY,CAACe,gBAAgB,CAAC,QAAQ,EAAGhB,KAAK,IAAK;QACjD,IAAIA,KAAK,CAACQ,MAAM,KAAK,QAAQ,EAAE;UAC7BS,kBAAkB,CAACjB,KAAK,CAAC;UACzBC,YAAY,CAACa,KAAK,CAAC,CAAC;QACtB,CAAC,MAAM,IAAId,KAAK,CAACQ,MAAM,KAAK,SAAS,EAAE;UACrCP,YAAY,CAACa,KAAK,CAAC,CAAC;QACtB;MACF,CAAC,CAAC;IACJ,CAAC;EACH;AACF,CAAC;AAED,OAAO,MAAMG,kBAAkB,GAAIjB,KAAK,IAAK;EAC3CkB,UAAU,CAAC,MAAM;IACfnB,qBAAqB,CAACC,KAAK,CAAC;EAC9B,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;AACrB,CAAC;AAED,OAAO,MAAMmB,yBAAyB,GAAIC,MAAM,IAAK;EACnD,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;EAE9BF,MAAM,CAACG,OAAO,CAACvB,KAAK,IAAI;IACtB,MAAMwB,SAAS,GAAG,IAAIF,IAAI,CAAC,GAAGtB,KAAK,CAACyB,IAAI,IAAIzB,KAAK,CAACK,IAAI,EAAE,CAAC;IAEzD,IAAIgB,WAAW,IAAIG,SAAS,IAAIH,WAAW,GAAG,IAAIC,IAAI,CAACE,SAAS,CAACE,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE;MACnF3B,qBAAqB,CAACC,KAAK,CAAC;IAC9B;EACF,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}